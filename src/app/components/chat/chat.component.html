<app-navbar></app-navbar>
<div class="flex flex-row h-[85vh] w-screen items-center mt-10" *ngIf="userData.connected">
    <div class="h-full w-1/6 mx-3 bg-white p-2">
        <div class="w-full flex mb-3">
            <input type="text" className="text-input"
                class="flex-grow shrink min-w-0 border-[#e5e7eb] border border-r-0 outline-none pl-2"
                placeholder="Type room name" [value]="roomName" (input)="handleRoom($event)"
                (keypress)="onRoomEnter($event)">
            <button type="button" id="create-button"
                class=" text-white  bg-[#3f51b5] p-0.5 border border-black rounded-sm"
                (click)="createRoom()">Create</button>
            <button type="button" class=" text-white  bg-[#3f51b5] p-0.5 border border-l-0 border-black rounded-sm"
                (click)="reloadRooms()">Reload</button>
        </div>


        <ul>
            <li *ngFor="let room of rooms" class="flex justify-between">
                <div (click)="changeTab($event)">
                    {{room}}
                </div>
                <button *ngIf="chats[room] === undefined" value="{{ room }}" (click)="joinRoom($event)"
                    class="bg-green-400">Join</button>
            </li>
        </ul>
    </div>
    <div class="h-full w-5/6 mx-3 bg-white relative p-2">
        <div class="">
            <ul class="chat-messages">
                <li *ngFor="let message of chats[tab]">{{ message.senderName }}: {{ message.message }}</li>
            </ul>
        </div>
        <div class="absolute bottom-2 flex w-full">
            <input type="text" className="text-input" class="flex-grow shrink min-w-0 border-[#e5e7eb] border border-r-0 outline-none pl-2" placeholder="Type your message here"
                [value]="userData.message" (input)="handleMessage($event)" (keypress)="onMessageEnter($event)">
            <button type="button" id="send-button" class=" text-white  bg-[#3f51b5] p-0.5 border border-black rounded-sm" (click)="sendValue()">Send</button>
        </div>
    </div>
</div>